<template>
        <div class="document-info-container classForapostillePaymentThirdScreenCss">
            <template if:true={isLoading}>
                <div class="loader-container">
                    <div class="loader"></div>
                </div>
            </template>
            <template if:true={isProcessingRecord}>
                <lightning-spinner alternative-text="Processing Payment..." size="large"></lightning-spinner>
            </template>
            <!-- Header Section -->
            <div class="custom-card-header classForapostillePaymentThirdScreenIconCss">
                <lightning-icon icon-name="custom:custom17" size="large" class="header-icon"></lightning-icon>
                <div>
                    <h1 class="header-title">{labels.Payment}</h1>
                    <p class="header-subtitle">{labels.PleaseCompleteThePaymentBelowToFinalizeYourOrder}</p>
                </div>
            </div>

            <div class="input-section">
                <div class="input-group">
                    <div class="input-radio-group">
                        <label class="radioFont">{labels.PaymentType}:</label>
                        <lightning-input type="radio" name="paymentType" variant="label-hidden" label="Credit Card"  checked={isCreditCard}  value="Card" onchange={handlePaymentTypeChange}></lightning-input>
                        <label class={radioCssDes}>{labels.Card} &nbsp; </label>
                        <lightning-input type="radio" name="paymentType" variant="label-hidden" label="Check" checked={isCheck} value="Check" onchange={handlePaymentTypeChange}></lightning-input>
                        <label class={radioCssDes}>{labels.Check}</label>
                    </div>
                </div>

                <div class="form-group half-width">
                    <label class="input-title"><span class="required-indicator">*</span>{labels.TotalAmountDue}</label>
                    <p class="price">${price}</p> 
                </div>

                <!-- Credit Card Details Template -->
                 
                <template if:true={isCreditCard}>
                    <template if:false={isPaymentCompleted}>
                        <template if:true={isPaypalSelected}>
                            <iframe
                                id="braintreePaymentVf"
                                src="https://ctds--sapdev001--c.sandbox.vf.force.com/apex/braintreePaymentVf"
                                width="100%"
                                height="230px"
                                allowfullscreen style="border: none;">
                            </iframe>
                        </template>
                        <template if:true={isAuthorizeNetSelected}>
                            <iframe
                                id="authorization_net"
                                src="https://ctds--sapdev001--c.sandbox.vf.force.com/apex/authorization_net"
                                width="100%"
                                height="230px"
                                allowfullscreen style="border: none;">
                            </iframe>
                            <div class="slds-var-p-around_small">
                                <form method="post" action={iFrameURL} lwc:ref="formAuthorizeNetPopup" name="formAuthorizeNetPopup" target="iframeAuthorizeNet">
                                    <input typ1e="hidden" lwc:ref="formInput" id="popupToken" name="token" value={tokenValue} />
                                </form>  
                                <div lwc:ref="iframeDiv" style="display:none;">
                                    <iframe id="iframeAuthorizeNet" name="iframeAuthorizeNet" width="100%" height="750px" frameborder="0"></iframe>
                                </div>     
                            </div>
                        </template>
                    </template>
                </template>

                <!-- Check Payment Template -->
                <template if:true={isCheck}>
                    <!-- <div class="check-stack">
                        <div class="check-header">{labels.PleaseSendaCheckForTheTotalAmountDueAlongWithYourDocumentToTheFollowingAddress}:</div>
                        <div class="check-content">{labels.SecretaryOfTheState}</div>
                        <div class="check-content">{labels.AuthenticationsAndApostilleUnit}</div>
                        <div class="check-content">{labels.POBox150470}</div>
                        <div class="check-content">Hartford, CT 06115-0470</div>
                    </div> -->

                    <div class="container">
                        <div class="header1">
                            <div class="header-item">{labels.FASTERMETHOD}:</div>
                            <div class="header-item">{labels.PhysicalAddress}:</div>
                        </div>
                        <div class="content1">
                            <div class="column">{labels.FasterMethodDescription}></div>
                            <div class="column">
                                <div>{labels.SecretaryOfTheState},</div>
                                <div>{labels.AuthenticationUnit},</div>
                                <div>{labels.avenue},</div>
                                <div>Hartford, CT 06106</div>
                              </div>                              
                        </div>
                    </div>

                    <div class="container">
                        <div class="header1">
                            <div class="header-item">{labels.SLOWERMETHOD}:</div>
                            <div class="header-item">{labels.MailingAddress}:</div>
                        </div>
                        <div class="content1">
                            <div class="column">{labels.mailOrigin}</div>
                            <div class="column">
                                <div>{labels.USPostal}</div>
                                <div>{labels.SecretaryOfTheState},</div>
                                <div>{labels.AuthenticationUnit},</div>
                                <div>{labels.POBox},</div>
                                <div>Hartford, CT 06115-0470</div> 
                            </div>
                        </div>
                    </div>
                </template>

                <template if:true={isPaymentSuccessful}>
                    <div class="slds-box slds-theme_success slds-m-bottom_small">
                        <strong>{labels.Payment} {labels.successful}!</strong>{labels.Yourpaymenthasbeenprocessedsuccessfully} 
                    </div>
                </template>
        
                <!-- Failure Message -->
                <template if:true={isPaymentFailed}>
                    <div class="slds-box slds-theme_error slds-m-bottom_small">
                        <strong>{labels.Payment} {labels.failed}!</strong> {labels.TherewasanissueprocessingyourpaymentPleasetragain}
                    </div>
                </template>
        
            </div>
        </div>
    </template>