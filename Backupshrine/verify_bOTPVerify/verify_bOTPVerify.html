<template>
    <div if:true={verifyOTP}>
        <div if:false={multiCred}>
            <h6 if:false={credVerification} class="pClass">{label.verify_AddBiz}</h6>
            <h6 if:true={credVerification} class="pClass">{label.verify_AddCred}</h6>
        </div>
        <div if:true={multiCred}>
            <h6 class="pClass">{label.verify_AddCred}&nbsp;({index} {label.Recovery_Of} {totalLength} {label.verify_AddCredID})</h6>
        </div>
        <div class="mob_img">
        <img src={mailImg} class="mailImg_mob" alt="VerifyEmail" title="VerifyEmail" />
        </div>
        <div class="displayCls">
            <div class="large">
                <img src={mailImg} class="mailImg" alt="VerifyEmail" title="VerifyEmail" />
            </div>
            <div>
                <p class="large pClass">
                    {label.verify_enterCode} {email}
                </p>
                <!-- </br> -->
                <ul if:false={multiCred} class="slds-list_dotted listItemCls">
                    <li><lightning-formatted-rich-text value={label.verify_codeValidity}></lightning-formatted-rich-text></li>
                </ul>
                </br>
                <p class="large">
                    <a href="javascript:void(0);" tabindex="0" class="cust-anchor" onclick={handleResendCode}>
                        {label.verify_resendCode}
                    </a>
                </p>
            </div>
        </div>
        <div class="slds-p-top_x-large">
            <p class="slds-p-bottom_xxx-small large pClass">
                {label.verify_code}
            </p>
            <div class="slds-form-element__control search-input-box inputTextElement">
                <lightning-input type="text" placeholder="######" class="searchBox" role="textbox" maxlength=6
                    onchange={checkInputLength} onkeypress={checkNumeric} variant="label-hidden"
                    aria-label={errorMessage}></lightning-input>
                <span class="helpText" id="err-text" aria-label={errorMessage} role="alert"></span>
            </div>
            <!--<template if:true={OTPMismatch} class="error-container">
                <div class="errorValidation">
                    <p class="small">
                        {label.OTPError}
                    </p>
                </div>
            </template>-->
        </div>
        <hr>
        <div class="bttnPadding">
            <button class="slds-button slds-float_right bttnClass primaryBtn" onclick={handleVerifyCode}>
                {label.verify_verify}&nbsp;
                <!-- <lightning-icon icon-name="utility:chevronright" size="xx-small" alternative-text="chevronright"
                    title="chevronright" variant="inverse" aria-hidden="true"></lightning-icon> -->
            </button>
        </div>
    </div>
    <div if:false={verifyOTP}>
        <div if:true={success}>
            <div>
                <h6 if:false={multiCred} class="pClass">{label.SUCCESS_MESSAGE}!</h6>
                <h6 if:true={multiCred} class="pClass">{label.SUCCESS_MESSAGE}&nbsp;({index} {label.Recovery_Of} {totalLength})</h6>
                <div class="slds-p-top_x-large">
                    <img src={successImg} class="resultImg" alt="Success" title="Success" />
                </div>
                <p if:false={credVerification} class="slds-p-top_x-large large pClass">
                    {label.verify_successVerifBiz}
                </p>
                <p if:true={credVerification} class="slds-p-top_x-large large pClass">
                    {label.verify_successVerifCred}
                </p>
            </div>
            <hr>
            <div class="bttnPadding">
                <button if:false={credVerification} class="slds-button slds-float_right bttnClass primaryBtn"
                    onclick={moveToNext}>
                    {label.verify_Continue} &nbsp;
                    <lightning-icon icon-name="utility:chevronright" size="xx-small" alternative-text="chevronright"
                        title="chevronright" variant="inverse" aria-hidden="true"></lightning-icon>
                </button>
                <template if:true={credVerification}>
                    <button if:false={isLastCred} class="slds-button slds-float_right bttnClass primaryBtn"
                        onclick={moveToNext}>
                        {label.verify_nextUserId} &nbsp;
                        <lightning-icon icon-name="utility:chevronright" size="xx-small" alternative-text="chevronright"
                            title="chevronright" variant="inverse" aria-hidden="true"></lightning-icon>
                    </button>
                    <button if:true={isLastCred} class="slds-button slds-float_right bttnClass primaryBtn"
                        onclick={moveToNext}>
                        {label.verify_Continue}
                    </button>
                </template>

            </div>
        </div>
        <div if:false={success}>
            <div>
                <h6 class="pClass">{label.verify_systemError}</h6>
                <div class="slds-p-top_x-large">
                    <img src={failureImg} class="resultImg" alt="Failure" title="Failure" />
                </div>
                <p class="slds-p-top_x-large large pClass">
                    {label.verify_issueVerify}
                </p>
                </br>
                <p if:false={credVerification} class="large pClass">
                    {label.verify_Please}&nbsp;
                    <a href="javascript:void(0);" tabindex="0" class="cust-anchor" onclick={handleClose}>
                        {label.verify_retryVerif}
                    </a>
                    , {label.verify_SOTSCustService}&nbsp;
                    <lightning-formatted-phone class="cust-anchor" value={label.SOTS_phone}></lightning-formatted-phone>
                    &nbsp;{label.verify_orEmail}
                    <lightning-formatted-email class="cust-anchor" value={label.SOTS_email}></lightning-formatted-email>
                    .&nbsp;{label.verify_furtherAssistance}.
                </p>
                <p if:true={credVerification} class="large pClass">
                    {label.verify_Please}&nbsp;
                    <a href="javascript:void(0);" tabindex="0" class="cust-anchor" onclick={handleClose}>
                        {label.verify_retryVerif}
                    </a>
                    , {label.verify_custService}&nbsp;
                    <lightning-formatted-phone class="cust-anchor" value={label.DCP_phone}></lightning-formatted-phone>
                    &nbsp;{label.verify_orEmail}&nbsp;
                    <lightning-formatted-email class="cust-anchor" value={label.DCP_email}></lightning-formatted-email>
                    .&nbsp;{label.verify_furtherAssistance}.
                </p>
            </div>
            <hr>
            <div class="bttnPadding">
                <button class="slds-button slds-float_right bttnClass primaryBtn">
                    {label.verify_backDashboard} &nbsp;
                    <!-- <lightning-icon icon-name="utility:chevronright" size="xx-small" alternative-text="chevronright"
                        title="chevronright" variant="inverse" aria-hidden="true"></lightning-icon> -->
                </button>
            </div>
        </div>
    </div>
</template>