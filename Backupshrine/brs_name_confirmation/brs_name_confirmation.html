<template>
    <template if:true={isLoading}>
        <lightning-spinner alternative-text={label.loading_brs} variant="brand" size="large">
        </lightning-spinner>
    </template>

    <div class="success-container">
        <div class="background"></div>
        <div class="slds-grid slds-wrap slds-grid_align-center">
            <div class="slds-size_12-of-12 slds-large-size_8-of-12">
                <div class="success-container-card">
                    <div class="success-container-card-body">
                        <img src={successIcon} alt="" class="success-icon" />
                        <h4 class="desc-bold">{label.congratulations_ack}<br>{label.name_confirm_heading}
                        </h4>
                        <p class="slds-m-bottom_medium">{label.name_confirm_subheading} {emailId}.</p>
                        <p class="slds-m-bottom_medium">{label.name_confirm_subheading1} {pin}.
                            {label.name_confirm_subheading2} {emailId}</p>
                        <div class="slds-m-bottom_x-large please-note">
                            <p class="please-note-head">{label.Please_Note}</p>
                            <p class="please-note-body">
                                {label.name_confirm_note} <lightning-formatted-date-time value={dueDate} year="numeric"
                                    month="2-digit" day="2-digit" time-zone="UTC">
                                </lightning-formatted-date-time>.
                            </p>
                        </div>
                        <p if:true={isFilingApproved}>
                            <a if:true={downloadLink} class="download anchor-link" href={downloadLink} download>
                                <img src={downloadIcon} alt="" />
                                {label.Maintaence_Flow_Report_DownloadText}
                            </a>
                        </p>
                    </div>
                    <div class="next-step-container success-container-card-body">
                        <h4 class="next-steps-heading">{label.Next_Steps}</h4>
                        <div>
                            <div class="next-steps">
                                <img src={nextStepIcon} alt="" class="step-icon" />
                                <div class="step-side-section">
                                    <p class="step-label">{label.brs_step1} {label.name_confirm_step1}</p>
                                    <p class="step-content">{label.name_confirm_step1a}</p>
                                    <button onclick={handleFirstClick}
                                        class="slds-button slds-button_natural natural-button">{label.name_confirm_step1b}</button>
                                </div>
                            </div>
                            <div class="next-steps">
                                <img src={nextStepIcon} alt="" class="step-icon" />
                                <div class="step-side-section">
                                    <p class="step-label">{label.brs_step2} {label.First_Report_Step2}</p>
                                    <p class="step-content">{label.First_Report_Step2_Text}</p>
                                    <button class="slds-button secondary-btn higher access-button"
                                    onclick={goToAccountPreferences}>
                                      {label.Notification_Text}
                                    </button>
                                </div>
                            </div>
                            <div class="next-steps">
                                <img src={nextStepIcon} alt="" class="step-icon" />
                                <div class="step-side-section">
                                    <p class="step-label">{label.brs_step3} {label.First_Report_Step3}</p>
                                    <p class="step-content">{label.First_Report_Step3_Text}</p>
                                    <button class="slds-button secondary-btn higher access-button"
                                    onclick={goToAccountDashboard}>
                                        {label.Access_Account_Dashboard}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>