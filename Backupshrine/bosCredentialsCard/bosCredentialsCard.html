<template>
  <div class="slds-grid  slds-wrap tab_wrapper">
    <template if:true={itemData.length}>
      <template if:true={isPending}>
        <div class="slds-col slds-large-size_12-of-12 slds-size_12-of-12 parentWrapper">
          <template for:each={itemData} for:item="card" for:index="index">
            <div key={card}
              class="card_wrapper slds-col slds-large-size_12-of-12 slds-size_12-of-12 slds-grid slds-wrap">
              <div
                class="card_content_wrapper slds-col slds-large-size_12-of-12 slds-size_12-of-12 slds-grid slds-wrap">
                <div class="slds-col slds-large-size_11-of-12 slds-size_5-of-6 mainContent">
                  <div class="leftContainer">
                    <img src={pendingIcon} class="cardIcon" />
                  </div>
                  <div class="middleContent">
                    <p class="small">{card.Full_Credential_Code}</p>
                    <p class="largeBold">{card.Credential_Type}</p>
                    <p class="large"> {card.Credential_Status__c}</p>
                  </div>
                </div>
                <div class="rightContent slds-col slds-large-size_1-of-12 slds-size_1-of-6">
                  <div class="top_icon" tabindex="0" data-id={card.Full_Credential_Code} onclick={handleExpandEllipsis}
                    onkeydown={handleExpandEllipsisKey}>
                    <img src={ellipsisIcon} class="ellipsis-icon" />
                  </div>
                  <div class="ellipsis_expand" data-name={card.Full_Credential_Code}
                    data-id={card.eLicense_Credential_ID} onclick={handleUnlink} tabindex="0"
                    onkeydown={handleUnlinkKey}>
                    <p class="small">{label.businessProfile_unlinkCredentials}</p>
                  </div>
                  <div class="bottom_icon" tabindex="0" data-id={card.eLicense_Credential_ID} onclick={handleAccordion}
                    onkeydown={handleAccordionKey}>
                    <template if:false={card.showDetails}>
                      <lightning-icon icon-name="utility:chevrondown" size="xx-small" alternative-text="chevrondown"
                        class="chevron-container-down"></lightning-icon>
                    </template>
                    <template if:true={card.showDetails}>
                      <lightning-icon icon-name="utility:chevronup" size="xx-small" alternative-text="chevronup"
                        class="chevron-container-down"></lightning-icon>
                    </template>
                  </div>
                </div>
              </div>
            <!-- <template if:true={card.showDetails}> -->

              <div data-name={card.eLicense_Credential_ID} class="slds-col slds-size_12-of-12 cred_details">
                <hr />
                <div class="slds-col slds-size_12-of-12 slds-grid slds-wrap cred_row">
                  <div class="slds-col slds-large-size_4-of-12 slds-medium-size_4-of-12 slds-size_12-of-12">
                    <div class="slds-col data-pairs firstCol">
                      <p class="small infoLabel">{label.businessProfile_credentialsCode}</p>
                      <p class="small">{card.Full_Credential_Code}</p>
                    </div>
                    <div class="slds-col secondCol data-pairs">
                      <p class="small infoLabel">{label.businessProfile_credentialsType}</p>
                      <p class="small">{card.Credential_Type}</p>
                    </div>
                    <div class="slds-col data-pairs firstCol">
                      <p class="small infoLabel">{label.businessProfile_credentialsStatus}</p>
                      <p class="small">{card.Credential_Public_Status}</p>
                    </div>
                    <div class="slds-col secondCol data-pairs">
                      <p class="small infoLabel">{label.businessProfile_credentialsStatusReason}</p>
                      <p class="small">{card.Credential_Public_Status_Reason}</p>
                    </div>
                  </div>
                  <div class="slds-col slds-large-size_8-of-12 slds-medium-size_8-of-12 slds-size_12-of-12">
                    <div class="slds-col secondCol data-pairs">
                      <p class="small infoLabel">{label.businessProfile_credentialsPrimaryaddress}</p>
                      <p class="small">{card.MainAddress}</p>
                    </div>
                    <div class="slds-col secondCol data-pairs">
                      <p class="small infoLabel">{label.businessProfile_maddress}</p>
                      <p class="small">{card.MailingAddress}</p>
                    </div>
                  </div>
                </div>
            </div>
            <!-- </template> -->
        </div>
      </template>
  </div>
</template>
<template if:true={isActive}>
  <div class="slds-col slds-large-size_12-of-12 slds-size_12-of-12 parentWrapper">
    <template for:each={itemData} for:item="card" for:index="index">
      <div key={card} class="card_wrapper slds-col slds-large-size_12-of-12 slds-size_12-of-12 slds-grid slds-wrap">
        <div class="card_content_wrapper slds-col slds-large-size_12-of-12 slds-size_12-of-12 slds-grid slds-wrap">
          <div class="slds-col slds-large-size_11-of-12 slds-size_5-of-6 mainContent">
            <div class="leftContainer">
              <img src={activeIcon} class="cardIcon" />
            </div>
            <div class="middleContent">
              <p class="small">{card.Full_Credential_Code}</p>
              <p class="largeBold">{card.Credential_Type}</p>
              <p class="large">{label.businessProfile_credentialsExpires} {card.Expiration_Date}</p>
            </div>
          </div>
          <div class="rightContent slds-col slds-large-size_1-of-12 slds-size_1-of-6">
            <div class="top_icon" tabindex="0" data-id={card.Full_Credential_Code} onclick={handleExpandEllipsis}
              onkeydown={handleExpandEllipsisKey}>
              <img src={ellipsisIcon} class="ellipsis-icon" />
            </div>
            <div class="ellipsis_expand" data-name={card.Full_Credential_Code} data-id={card.eLicense_Credential_ID}
              onclick={handleUnlink} tabindex="0" onkeydown={handleUnlinkKey}>
              <p class="small">{label.businessProfile_unlinkCredentials}</p>
            </div>
            <div class="bottom_icon" tabindex="0" data-id={card.eLicense_Credential_ID} onclick={handleAccordion}
              onkeydown={handleAccordionKey}>
              <template if:false={card.showDetails}>
                <lightning-icon icon-name="utility:chevrondown" size="xx-small" alternative-text="chevrondown"
                  class="chevron-container-down"></lightning-icon>
              </template>
              <template if:true={card.showDetails}>
                <lightning-icon icon-name="utility:chevronup" size="xx-small" alternative-text="chevronup"
                  class="chevron-container-down"></lightning-icon>
              </template>
            </div>
          </div>
        </div>
        <!-- <template if:true={card.showDetails}> -->
        <div data-name={card.eLicense_Credential_ID} class="slds-col slds-size_12-of-12 cred_details">
          <hr />
          <div class="slds-col slds-size_12-of-12 slds-grid slds-wrap cred_row">
            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_4-of-12 slds-size_12-of-12">
              <div class="slds-col data-pairs firstCol">
                <p class="small infoLabel">{label.businessProfile_credentialsCode}</p>
                <p class="small">{card.Full_Credential_Code}</p>
              </div>
              <div class="slds-col secondCol data-pairs">
                <p class="small infoLabel">{label.businessProfile_credentialsType}</p>
                <p class="small">{card.Credential_Type}</p>
              </div>
              <div class="slds-col data-pairs firstCol">
                <p class="small infoLabel">{label.businessProfile_credentialsStatus}</p>
                <p class="small">{card.Credential_Public_Status}</p>
              </div>
              <div class="slds-col secondCol data-pairs">
                <p class="small infoLabel">{label.businessProfile_credentialsStatusReason}</p>
                <p class="small">{card.Credential_Public_Status_Reason}</p>
              </div>
            </div>
                  <div class="slds-col slds-large-size_8-of-12 slds-medium-size_8-of-12 slds-size_12-of-12">
                    <div class="slds-col secondCol data-pairs">
                      <p class="small infoLabel">{label.businessProfile_credentialsPrimaryaddress}</p>
                      <p class="small">{card.MainAddress}</p>
                    </div>
                    <div class="slds-col secondCol data-pairs">
                      <p class="small infoLabel">{label.businessProfile_maddress}</p>
                      <p class="small">{card.MailingAddress}</p>
                    </div>
                  </div>
          </div>
        </div>
        <!-- </template> -->
      </div>
    </template>
  </div>
</template>
<template if:true={isInactive}>
  <div class="slds-col slds-large-size_12-of-12 slds-size_12-of-12 parentWrapper">
    <template for:each={itemData} for:item="card" for:index="index">
      <div key={card} class="card_wrapper slds-col slds-large-size_12-of-12 slds-size_12-of-12 slds-grid slds-wrap">
        <div class="card_content_wrapper slds-col slds-large-size_12-of-12 slds-size_12-of-12 slds-grid slds-wrap">
          <div class="slds-col slds-large-size_11-of-12 slds-size_5-of-6 mainContent">
            <div class="leftContainer">
              <img src={expiredIcon} class="cardIcon" />
            </div>
            <div class="middleContent">
              <p class="small">{card.Full_Credential_Code}</p>
              <p class="largeBold">{card.Credential_Type}</p>
              <p class="large">{label.businessProfile_credentialsExpires} {card.Expiration_Date}</p>
            </div>
          </div>
          <div class="rightContent slds-col slds-large-size_1-of-12 slds-size_1-of-6">
            <div class="top_icon" tabindex="0" data-id={card.Full_Credential_Code} onclick={handleExpandEllipsis}
              onkeydown={handleExpandEllipsisKey}>
              <img src={ellipsisIcon} class="ellipsis-icon" />
            </div>
            <div class="ellipsis_expand" data-name={card.Full_Credential_Code} data-id={card.eLicense_Credential_ID}
              onclick={handleUnlink} tabindex="0" onkeydown={handleUnlinkKey}>
              <p class="small">{label.businessProfile_unlinkCredentials}</p>
            </div>
            <div class="bottom_icon" tabindex="0" data-id={card.eLicense_Credential_ID} onclick={handleAccordion}
              onkeydown={handleAccordionKey}>
              <template if:false={card.showDetails}>
                <lightning-icon icon-name="utility:chevrondown" size="xx-small" alternative-text="chevrondown"
                  class="chevron-container-down"></lightning-icon>
              </template>
              <template if:true={card.showDetails}>
                <lightning-icon icon-name="utility:chevronup" size="xx-small" alternative-text="chevronup"
                  class="chevron-container-down"></lightning-icon>
              </template>
            </div>
          </div>
        </div>
        <!-- <template if:true={card.showDetails}> -->
        <div data-name={card.eLicense_Credential_ID} class="slds-col slds-size_12-of-12 cred_details">
          <hr />
          <div class="slds-col slds-size_12-of-12 slds-grid slds-wrap cred_row">
            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_4-of-12 slds-size_12-of-12">
              <div class="slds-col data-pairs firstCol">
                <p class="small infoLabel">{label.businessProfile_credentialsCode}</p>
                <p class="small">{card.Full_Credential_Code}</p>
              </div>
              <div class="slds-col secondCol data-pairs">
                <p class="small infoLabel">{label.businessProfile_credentialsType}</p>
                <p class="small">{card.Credential_Type}</p>
              </div>
              <div class="slds-col data-pairs firstCol">
                <p class="small infoLabel">{label.businessProfile_credentialsStatus}</p>
                <p class="small">{card.Credential_Public_Status}</p>
              </div>
              <div class="slds-col secondCol data-pairs">
                <p class="small infoLabel">{label.businessProfile_credentialsStatusReason}</p>
                <p class="small">{card.Credential_Public_Status_Reason}</p>
              </div>
            </div>
            <div class="slds-col slds-large-size_8-of-12 slds-medium-size_8-of-12 slds-size_12-of-12">
              <div class="slds-col secondCol data-pairs">
                <p class="small infoLabel">{label.businessProfile_credentialsPrimaryaddress}</p>
                <p class="small">{card.MainAddress}</p>
              </div>
              <div class="slds-col secondCol data-pairs">
                <p class="small infoLabel">{label.businessProfile_maddress}</p>
                <p class="small">{card.MailingAddress}</p>
              </div>
            </div>
          </div>
        </div>
        <!-- </template> -->
      </div>
    </template>
  </div>
</template>
</template>
<!-- <template if:false={itemData.length}>
      <div class="card_wrapper slds-col slds-large-size_12-of-12 slds-size_12-of-12">
        <div class="noAction_wrapper">
          <div class="leftContent">
            <img src={buildingGroup} class="buildingGroup" />
          </div>
          <div class="noDataRightContent">
            <div>
              <h5>Get started by linking a license.</h5>
            </div>
            <div>
              <p class="large">
                <a href="">Link a license</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </template> -->
<template if:true={unlinkPopUp}>
  <c-modal open={modalopen} onmodalclose={closeModal} size={modalSize}>
    <div slot="header" style="text-align:left" class="headerModal slds-size_1-of-1">

      <h6> {label.businessProfile_unlinkCredentials1}</h6>
    </div>
    <div slot="body" class="slds-m-bottom_large slds-large-size_12-of-12 slds-medium-size_12-of-12 slds-size_1-of-1">
      <p class="large">
        {label.businessProfile_unlinkCredentials2}
      </p>
    </div>
    <div slot="actions" class="slds-m-vertical_small slds-size_1-of-1">
      <button title="Send email" onclick={handleUnlinkButton} class="slds-button primaryBtn slds-align_absolute-center">
        {label.businessProfile_unlink}
      </button>
    </div>
  </c-modal>
</template>
<template if:true={loadMoreBlock}>
  <div class="loadmore_Block slds-col slds-large-size_12-of-12 slds-size_12-of-12" tabindex="0"
    onclick={handleLoadMore}>
    <p class="small">{label.businessProfile_load_more}</p>
  </div>
</template>
<template if:true={showLess}>
  <div class="loadmore_Block slds-col slds-large-size_12-of-12 slds-size_12-of-12" tabindex="0"
    onclick={handleShowLess}>
    <p class="small">{label.businessProfile_show_less}</p>
  </div>
</template>
</div>
</template>