<template>
    <lightning-card>
        <!-- Filter Section -->
        <div class="slds-grid slds-grid_align-end slds-m-bottom_medium">
            <div class="button-container">
                <div class="left-button slds-p-left_small">
                    <span class="slds-text-title_bold slds-m-right_x-small">Search Results:</span>
                    <lightning-badge label={transactionsFoundLabel} class="slds-badge_inverse">
                    </lightning-badge>
                </div>
                <div class="right-buttons">
                    <lightning-badge data-id="current-day" label="Current day" class={badgeClassCurrentDay}
                        onclick={handleBadgeClick}>
                    </lightning-badge>
                    <lightning-badge data-id="this-week" label="This week" class={badgeClassThisWeek}
                        onclick={handleBadgeClick}>
                    </lightning-badge>
                    <lightning-badge data-id="this-month" label="This month" class={badgeClassThisMonth}
                        onclick={handleBadgeClick}>
                    </lightning-badge>
                    <lightning-badge data-id="this-quarter" label="This quarter" class={badgeClassThisQuarter}
                        onclick={handleBadgeClick}>
                    </lightning-badge>
                    <lightning-badge data-id="this-year" label="This year" class={badgeClassThisYear}
                        onclick={handleBadgeClick}>
                    </lightning-badge>

                    <lightning-button-menu icon-position="right" data-id="filterMenu"
                        alternative-text="Filter By Amount" title="Filter" tooltip="Filter by amount"
                        icon-name="utility:filterList" onselect={handleFilterSelect}
                        class="slds-button_icon slds-button_icon-inverse custom-button-menu">
                        <lightning-menu-item label="$0 - $100" value="0-100"></lightning-menu-item>
                        <lightning-menu-item label="$101 - $500" value="101-500"></lightning-menu-item>
                        <lightning-menu-item label="$501 - $1000" value="501-1000"></lightning-menu-item>
                        <lightning-menu-item label="$1001 and above" value="1001+"></lightning-menu-item>
                    </lightning-button-menu>
                    <span class="slds-text-body_regular slds-m-right_small custom-label" onclick={handleFilterClick}>
                        Filter by amount
                    </span>
                    <lightning-button label="Export Result" onclick={handleExportResultButtonClick} variant="brand"
                        class="slds-m-right_small">
                    </lightning-button>
                </div>
            </div>

            <template if:true={errorMessage}>
                <div class="slds-text-color_error slds-m-top_medium">
                    {errorMessage}
                </div>
            </template>
        </div>

        <c-custome-data-table key-field="batchId" data={userClouseOutData} columns={columns} onpdfclick={handlePdfClick}
            onexcelclick={handleExcelClick} hide-checkbox-column>
        </c-custome-data-table>




        <!-- Pagination component -->
        <c-pagination page-size={pageSize} totalrecords={totalRecords} onpagination={handlePagination}>
        </c-pagination>

        <!-- PDF Generator Component -->
        <c-pdf-genrator data-id="pdfGenerator"></c-pdf-genrator>
    </lightning-card>
</template>